import React from 'react'
import styled from 'styled-components'
import { Link } from 'gatsby'

import responsive from '@styles/responsive'
import navigationStyle from '@styles/navigation'

import NavigationHeader from '@components/Navigation/Navigation.Header'

const Header = ({location}) => {

    const rootPath = `${__PATH_PREFIX__}/`
    const logoLink = (
        <Link to="/">
            <svg viewBox="0 0 160 19" fill="none" xmlns="http://www.w3.org/2000/svg">
                <title>PRAISE COFFEE | プレイズコーヒー</title>
                <path d="M3.49023 11.2646V18H0.987305V1.41406H3.82324C5.21257 1.41406 6.26172 1.51074 6.9707 1.7041C7.68685 1.89746 8.31706 2.2627 8.86133 2.7998C9.8138 3.73079 10.29 4.90527 10.29 6.32324C10.29 7.84147 9.78158 9.0446 8.76465 9.93262C7.74772 10.8206 6.3763 11.2646 4.65039 11.2646H3.49023ZM3.49023 8.94434H4.4248C6.72363 8.94434 7.87305 8.0599 7.87305 6.29102C7.87305 4.57943 6.68783 3.72363 4.31738 3.72363H3.49023V8.94434ZM18.4863 10.9316L23.6211 18H20.5596L15.8223 11.2109H15.3711V18H12.8682V1.41406H15.8008C17.9922 1.41406 19.5749 1.82585 20.5488 2.64941C21.623 3.56608 22.1602 4.77637 22.1602 6.28027C22.1602 7.45475 21.8236 8.46452 21.1504 9.30957C20.4772 10.1546 19.5892 10.6953 18.4863 10.9316ZM15.3711 9.03027H16.166C18.5365 9.03027 19.7217 8.12435 19.7217 6.3125C19.7217 4.61523 18.5687 3.7666 16.2627 3.7666H15.3711V9.03027ZM35.8672 13.9717H28.7666L26.9189 18H24.2227L32.4297 0.37207L40.3467 18H37.6074L35.8672 13.9717ZM34.8467 11.6191L32.3867 5.97949L29.8086 11.6191H34.8467ZM44.9336 1.41406V18H42.4307V1.41406H44.9336ZM58.2969 3.88477L56.2666 5.08789C55.887 4.42904 55.5254 3.99935 55.1816 3.79883C54.8236 3.56966 54.3617 3.45508 53.7959 3.45508C53.1012 3.45508 52.5247 3.65202 52.0664 4.0459C51.6081 4.43262 51.3789 4.9196 51.3789 5.50684C51.3789 6.31608 51.9805 6.96777 53.1836 7.46191L54.8379 8.13867C56.1842 8.68294 57.1689 9.34896 57.792 10.1367C58.415 10.9173 58.7266 11.877 58.7266 13.0156C58.7266 14.541 58.2181 15.8014 57.2012 16.7969C56.1771 17.7995 54.9059 18.3008 53.3877 18.3008C51.9482 18.3008 50.7594 17.8747 49.8213 17.0225C48.8975 16.1702 48.321 14.9707 48.0918 13.4238L50.627 12.8652C50.7415 13.8392 50.9421 14.5124 51.2285 14.8848C51.7441 15.6009 52.4961 15.959 53.4844 15.959C54.265 15.959 54.9131 15.6976 55.4287 15.1748C55.9443 14.652 56.2021 13.9896 56.2021 13.1875C56.2021 12.8652 56.1556 12.5716 56.0625 12.3066C55.9766 12.0345 55.8369 11.7874 55.6436 11.5654C55.4574 11.3363 55.2139 11.125 54.9131 10.9316C54.6123 10.7311 54.2542 10.5413 53.8389 10.3623L52.2383 9.69629C49.9681 8.73665 48.833 7.33301 48.833 5.48535C48.833 4.23926 49.3092 3.19727 50.2617 2.35938C51.2142 1.51432 52.3994 1.0918 53.8174 1.0918C55.7295 1.0918 57.2227 2.02279 58.2969 3.88477ZM70.8975 3.7666H64.248V7.75195H70.7041V10.1045H64.248V15.6475H70.8975V18H61.7451V1.41406H70.8975V3.7666ZM93.2305 2.30566V5.27051C91.7839 4.06022 90.2871 3.45508 88.7402 3.45508C87.0358 3.45508 85.5999 4.06738 84.4326 5.29199C83.2581 6.50944 82.6709 7.99902 82.6709 9.76074C82.6709 11.501 83.2581 12.9691 84.4326 14.165C85.6071 15.361 87.0465 15.959 88.751 15.959C89.6318 15.959 90.3802 15.8158 90.9961 15.5293C91.3398 15.3861 91.6943 15.1927 92.0596 14.9492C92.432 14.7057 92.8223 14.4121 93.2305 14.0684V17.0869C91.7982 17.8962 90.2943 18.3008 88.7188 18.3008C86.3483 18.3008 84.3252 17.4736 82.6494 15.8193C80.9808 14.1507 80.1465 12.1383 80.1465 9.78223C80.1465 7.6696 80.8447 5.78613 82.2412 4.13184C83.96 2.10514 86.1836 1.0918 88.9121 1.0918C90.4017 1.0918 91.8411 1.49642 93.2305 2.30566ZM95.4648 9.63184C95.4648 7.2972 96.3206 5.29199 98.0322 3.61621C99.7367 1.94043 101.785 1.10254 104.177 1.10254C106.54 1.10254 108.567 1.94759 110.257 3.6377C111.954 5.3278 112.803 7.35807 112.803 9.72852C112.803 12.1133 111.951 14.1364 110.246 15.7979C108.535 17.4665 106.468 18.3008 104.048 18.3008C101.907 18.3008 99.9837 17.5596 98.2793 16.0771C96.403 14.4372 95.4648 12.2887 95.4648 9.63184ZM97.9893 9.66406C97.9893 11.4974 98.6051 13.0049 99.8369 14.1865C101.062 15.3682 102.476 15.959 104.08 15.959C105.82 15.959 107.288 15.3574 108.484 14.1543C109.68 12.9368 110.278 11.4544 110.278 9.70703C110.278 7.93815 109.688 6.45573 108.506 5.25977C107.331 4.05664 105.878 3.45508 104.145 3.45508C102.419 3.45508 100.961 4.05664 99.7725 5.25977C98.5837 6.44857 97.9893 7.91667 97.9893 9.66406ZM124.232 3.7666H118.453V7.75195H124.028V10.1045H118.453V18H115.95V1.41406H124.232V3.7666ZM135.426 3.7666H129.646V7.75195H135.222V10.1045H129.646V18H127.144V1.41406H135.426V3.7666ZM147.489 3.7666H140.84V7.75195H147.296V10.1045H140.84V15.6475H147.489V18H138.337V1.41406H147.489V3.7666ZM159.929 3.7666H153.279V7.75195H159.735V10.1045H153.279V15.6475H159.929V18H150.776V1.41406H159.929V3.7666Z" fill="#212a2f"/>
            </svg>
        </Link>
    )

    let logo;
    if (location.pathname === rootPath) {
        logo = <LogoTop className="logo">{logoLink}</LogoTop>
    } else {
        logo = <LogoPage className="logo">{logoLink}</LogoPage>
    }


    return (
        <GlobalHeader>
            <HeaderInner>
                {logo}
                <NavigationHeader location={location} />
            </HeaderInner>
        </GlobalHeader>
    )
}

export default Header

const GlobalHeader = styled.header`
    position: fixed;
    top: 0;
    left: 0;
    z-index: 100;
    width: 100%;
    background-color: ${props => props.theme.colors.background};
    box-shadow: 0 0 2px rgba(0, 0, 0, 0.25);
    ${navigationStyle}
`

const HeaderInner = styled.div`
    display: flex;
    justify-content: space-between;
    align-items: center;
    min-height: 7rem;
    position: relative;
    padding: 0 5rem;
    ${responsive.xlg} {
        padding: 0 3rem;
    }
    ${responsive.md} {
        padding: 0 2rem;
        min-height: 6rem;
    }
`

const LogoTop = styled.h1`
    line-height: 1;
    a {
        display: block;
    }
    svg {
        width: 160px;
    }
    ${responsive.sm} {
        svg {
            width: 140px;
        }
    }
`

const LogoPage = styled.p`
    line-height: 1;
    a {
        display: block;
    }
    svg {
        width: 160px;
    }
    ${responsive.sm} {
        svg {
            width: 140px;
        }
    }
`